
disabled = false;
hidden = false;
demo = false;

supportQCParameters = false;
id = "fmi::observations::weather::monthly::30year::simple";

expiresSeconds = 31536000;

constructor_name = "wfs_obs_handler_factory";

title:
{
	eng = "Monthly weather observations of 30-year normal period";
	fin = "Säähavaintoaineiston kuukausikeskiarvot 30-vuoden vertailujaksolta";
};

abstract:
{
	eng = "Monthly Weather Observations of 30-year normal period. By default, the data is returned from the normal period of 1981 - 2010. There is available the following normal periods: 1971 - 2000, 1981 - 2010. Notice that there is only data at the begin of the period. At least one location parameter (geoid/place/fmisid/wmo/bbox) has to be given. The data is returned in simple feature format.";

	fin = "Säähavaintoaineiston kuukausikeskiarvot 30-vuoden vertailujaksolta. Oletuksena dataa palautetaan 1981 - 2010 vertailukaudelta. Saatavilla on seuraavat vertailukaudet: 1971 - 2000, 1981 - 2010. Huomaa, että dataa on vain normaalijakson alussa. Vähintään yksi paikanmääre (geoid/place/fmisid/wmo/bbox) on pakollinen. Data palautetaan 'simple feature'-muodossa.";
};

template = "weather_observations_simple.c2t";

parameters:
(
{
	name = "starttime";
	title = {eng = "Begin of the time interval"; fin = "Alkuaika"; };
	abstract = { eng = "Parameter begin specifies the begin of time interval in ISO-format (for example 2012-02-27T00:00:00Z)."; fin = "Aikajakson alkuaika ISO-muodossa (esim. 2012-02-27T00:00:00Z)."; };
	xmlType = "dateTime";
	type = "time";
        lowerLimit = "1971-01-01T00:00:00Z";
},
{
	name = "endtime";
	title = { eng = "End of time interval"; fin = "Loppuaika"; };
	abstract = { eng = "End of time interval in ISO-format (for example 2012-02-27T00:00:00Z)."; fin = "Aikajakson loppuaika ISO-muodossa (esim. 2012-02-27T00:00:00Z)."; };
	xmlType = "dateTime";
	type = "time";
},
{
	name = "timestep";
	title = { eng = "The time step of data in minutes"; fin= "Aika-askel minuutteina";};
	abstract = { eng = "The time step of data in minutes. Notice that timestep is calculated from start of the ongoing hour or day. "; fin= "Aika-askel minuutteina. Huomaa, että aika-askel lasketaan tasaminuuteille edellisestä tasatunnista tai vuorokaudesta.";};
	xmlType = "int";
	type = "uint";
},
{
	name = "parameters";
	title = { eng = "Parameters to return"; fin = "Meteorologiset parametrit"; };
	abstract = { eng = "Comma separated list of meteorological parameters to return. By default all parameters will be returned."; fin = "Meteorologiset parametrit pilkulla erotettuna. Oletuksena palautetaan kaikki parametrit.";};
	xmlType = "NameList";
	type = "string[1..99]";
	minOccurs = 0;
	maxOccurs = 999;
},
{
        name = "crs";
        title = { eng = "Coordinate projection to use in results"; fin = "Projektio"; };
        abstract = { eng = "Coordinate projection to use in results. For example EPSG::3067"; fin = "Projektiotieto. Esimerkiksi EPSG::3067";};
        xmlType = "xsi:string";
        type = "string";
}
,{
	name = "bbox";
	title = { eng = "Bounding box of area for which to return data."; fin = "Aluerajaus";  };
	abstract = { eng = "Bounding box of area for which to return data (lon,lat,lon,lat). For example 21,61,22,62"; fin = "Aluerajaus (lon,lat,lon,lat). Esimerkiksi 21,61,22,62"; };
	xmlType = "xsi:string";
	type = "bbox";
	minOccurs = 0;
	maxOccurs = 1;
},
{
        name = "place";
        title = { eng = "The location for which to provide data"; fin = "Paikannimi"; };
        abstract = { eng = "The location for which to provide forecast. Region can be given after location name separated by comma (for example Hanko)."; fin = "Paikannimi. Alueen voi antaa paikannimen jälkeen pilkulla erotettuna (esim. Hanko)."; };
        xmlType = "xsi:string";
        type = "string";
        minOccurs = 0;
        maxOccurs = 99;
},
{
	name = "fmisid";
	title = { eng = "FMI observation station identifier."; fin = "Säähavaintoaseman id.";  };
	abstract = { eng = "Identifier of the observation station."; fin = "Säähavaintoaseman id."; };
	xmlType = "int";
	type = "uint";
	minOccurs = 0;
	maxOccurs = 99;
},
{
        name = "maxlocations";
        title = { eng = "Amount of locations"; fin = "Haettujen paikkojen määrä"; };
        abstract = { eng = "How many observation stations are fetched around queried locations. Note that stations are only searched with 50 kilometers radius around the location."; fin = "Etsittävien havaintoasemien määrä kunkin paikan läheisyydestä. Havaintoasemia etsitään maksimissaan 50 kilometrin säteellä paikoista."; };
        xmlType = "int";
        type = "uint";
},
{
        name = "geoid";
        title = { eng = "Geoid of the location for which to return data."; fin = "Haettavan paikan geoid."; };
        abstract = { eng = "Geoid of the location for which to return data. (ID from geonames.org)"; fin = "Haettavan paikan geoid (geonames.org:sta)"; };
        xmlType = "int";
        type = "int";
	minOccurs = 0;
	maxOccurs = 99;
},
{
        name = "wmo";
        title = { eng = "WMO code of the location for which to return data."; fin = "Haettavan paikan wmo."; };
        abstract = { eng = "WMO code of the location for which to return data."; fin = "Haettavan paikan wmo-koodi."; };
        xmlType = "int";
        type = "uint";
	minOccurs = 0;
	maxOccurs = 99;
},
{
        name     = "timezone";
        title    = { eng = "Time zone"; fin = "Aikavyöhyke"; };
        abstract = { eng = "Time zone of the time instant of the data point in the form Area/Location (for example America/Costa_Rica). Default value is UTC.";
                     fin = "Havainnon aika-arvon aikavyöhyke muodossa Alue/Paikka (esim. Europe/Stockholm). Oletusvyöhyke on UTC."; };
        xmlType  = "xsi:string";
        type     = "string";
}
);

returnTypeNames = [ "BsWfs:BsWfsElement" ];

handler_params:
{
        latest = false;
	beginTime = "${starttime: 1981-01-01T00:00:00Z}";
        endTime = "${endtime: 1981-12-01T00:00:00Z}";
        places = ["${place}"];
        latlons = [];
        meteoParameters = ["${parameters > defaultMeteoParam}"];
        stationType = "opendata_daily";
        timeStep = "${timestep:0}";
        maxDistance = 50000.0;
        wmos = ["${wmo}"];
        lpnns = [];
        fmisids = ["${fmisid}"];
        geoids = ["${geoid}"];
        numOfStations = "${maxlocations:1}";
        hours = [];
        weekDays = [];
        locale = "fi_FI.utf8";
        missingText = "NaN";
        boundingBox = "${bbox}";
        maxEpochs = 20000000;
        crs = "${crs:EPSG::4258}";
        timeZone = "${timezone: UTC}";
        qualityInfo = false;
        keyword_overwritable = false;
	keyword = "";
};

maxHours = 788400.0;

named_params = (
    {
        name = "defaultMeteoParam";
        def = ["TAP1M","PRAP1M","PAP1M","RHP1M","TAMAXP1M","TAMINP1M","SND15P1M","SND31P1M","TA00P1M","TA06P1M","TA12P1M","TA18P1M","RH00P1M","RH06P1M","RH12P1M","RH18P1M","NDPR001P1M","NDPR010P1M","NDPR100P1M","NDTAX25P1M","NDTAX0P1M","NDTAN0P1M","NDTAN10P1M","NDTG0P1M","SUNDP1M","CLAP1M","PA0P1M","EVPP1M","WSP1M","WS045P1M","WS090P1M","WS135P1M","WS180P1M","WS225P1M","WS270P1M","WS315P1M","WS360P1M","WS0P1M","WD045P1M","WD090P1M","WD135P1M","WD180P1M","WD225P1M","WD270P1M","WD315P1M","WD360P1M","GLOBP1M"];
    }
);

separateGroups = false;
